<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form Events Handling</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f9f9f9;
        }
        form {
            width: 400px;
            margin: auto;
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 10px;
            background-color: #fff;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        input, select {
            width: 100%;
            padding: 8px;
            margin-bottom: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
        .error {
            color: red;
            font-size: 12px;
        }
        .submit-btn {
            background-color: #4CAF50;
            color: white;
            border: none;
            padding: 10px;
            border-radius: 5px;
            cursor: pointer;
        }
        .submit-btn:hover {
            background-color: #45a049;
        }
    </style>
</head>
<body>
    <form id="signupForm">
        <p style="color: red;">*Mandatory to fill</p>
        <label for="firstname">Firstname:</label>
        <input type="text" id="firstname" name="firstname">
        <span class="error" id="firstnameError"></span>

        <label for="lastname">Lastname:</label>
        <input type="text" id="lastname" name="lastname">
        <span class="error" id="lastnameError"></span>

        <label for="birthday">Birthday:</label>
        <select id="day" name="day">
            <option value="">Day</option>
            <!-- Add day options dynamically -->
        </select>
        <select id="month" name="month">
            <option value="">Month</option>
            <!-- Add month options dynamically -->
        </select>
        <select id="year" name="year">
            <option value="">Year</option>
            <!-- Add year options dynamically -->
        </select>
        <span class="error" id="birthdayError"></span>

        <label for="username">Username:</label>
        <input type="text" id="username" name="username">
        <span class="error" id="usernameError"></span>

        <label for="email">E-mail:</label>
        <input type="email" id="email" name="email">
        <span class="error" id="emailError"></span>

        <label for="website">Website:</label>
        <input type="url" id="website" name="website">

        <label for="password">Password:</label>
        <input type="password" id="password" name="password">
        <span class="error" id="passwordError"></span>

        <label for="repassword">Re-password:</label>
        <input type="password" id="repassword" name="repassword">
        <span class="error" id="repasswordError"></span>

        <input type="checkbox" id="terms" name="terms">
        <label for="terms">I agree to the terms & conditions.</label>
        <span class="error" id="termsError"></span>

        <button type="submit" class="submit-btn">Sign up</button>
    </form>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const form = document.getElementById("signupForm");

            // Populate day, month, and year dropdowns
            const daySelect = document.getElementById("day");
            const monthSelect = document.getElementById("month");
            const yearSelect = document.getElementById("year");

            for (let i = 1; i <= 31; i++) {
                const option = document.createElement("option");
                option.value = i;
                option.textContent = i;
                daySelect.appendChild(option);
            }

            const months = [
                "January", "February", "March", "April", "May", "June",
                "July", "August", "September", "October", "November", "December"
            ];
            months.forEach((month, index) => {
                const option = document.createElement("option");
                option.value = index + 1;
                option.textContent = month;
                monthSelect.appendChild(option);
            });

            const currentYear = new Date().getFullYear();
            for (let i = currentYear; i >= currentYear - 100; i--) {
                const option = document.createElement("option");
                option.value = i;
                option.textContent = i;
                yearSelect.appendChild(option);
            }

            // Form validation
            form.addEventListener("submit", (event) => {
                event.preventDefault();
                let isValid = true;

                // Clear previous errors
                document.querySelectorAll(".error").forEach(error => error.textContent = "");

                // Validate firstname
                const firstname = document.getElementById("firstname").value.trim();
                if (!firstname) {
                    document.getElementById("firstnameError").textContent = "Firstname is required.";
                    isValid = false;
                }

                // Validate lastname
                const lastname = document.getElementById("lastname").value.trim();
                if (!lastname) {
                    document.getElementById("lastnameError").textContent = "Lastname is required.";
                    isValid = false;
                }

                // Validate birthday
                const day = daySelect.value;
                const month = monthSelect.value;
                const year = yearSelect.value;
                if (!day || !month || !year) {
                    document.getElementById("birthdayError").textContent = "Complete birthday is required.";
                    isValid = false;
                }

                // Validate username
                const username = document.getElementById("username").value.trim();
                if (!username) {
                    document.getElementById("usernameError").textContent = "Username is required.";
                    isValid = false;
                }

                // Validate email
                const email = document.getElementById("email").value.trim();
                if (!email || !email.includes("@")) {
                    document.getElementById("emailError").textContent = "Valid email is required.";
                    isValid = false;
                }

                // Validate password
                const password = document.getElementById("password").value.trim();
                const repassword = document.getElementById("repassword").value.trim();
                if (!password) {
                    document.getElementById("passwordError").textContent = "Password is required.";
                    isValid = false;
                } else if (password !== repassword) {
                    document.getElementById("repasswordError").textContent = "Passwords do not match.";
                    isValid = false;
                }

                // Validate terms checkbox
                const terms = document.getElementById("terms").checked;
                if (!terms) {
                    document.getElementById("termsError").textContent = "You must agree to the terms.";
                    isValid = false;
                }

                if (isValid) {
                    alert("Form submitted successfully!");
                }
            });

            // Focus event example
            document.getElementById("firstname").addEventListener("focus", () => {
                document.getElementById("firstname").style.backgroundColor = "#e0f7fa";
            });
            document.getElementById("firstname").addEventListener("blur", () => {
                document.getElementById("firstname").style.backgroundColor = "";
            });

            // Change event example
            document.getElementById("email").addEventListener("change", () => {
                const email = document.getElementById("email").value.trim();
                if (!email.includes("@")) {
                    document.getElementById("emailError").textContent = "Please enter a valid email.";
                } else {
                    document.getElementById("emailError").textContent = "";
                }
            });
        });
    </script>
</body>
</html>